<div class="main-container">
	<div class="content-container">
		<div class="profile-title">
			<h2>{{club.name}}</h2>
		</div>
		<div class="flex-row w-90">
			<div class="club-detail-container flex-1">
				<div class="club-description">
					<div class="club-item club-pitches-list">
						<div class="flex">
							<div class="h4 pitch-info-label">
								{{'club_location' | translate}}
								<span class="h4"> {{club.location}}</span>
							</div>
						</div>
						<h4>{{'hosted' | translate}} {{club.pastEventsCount}} {{'event_s' | translate}}</h4>
					</div>
				</div>
				<div class="club-item club-pitches-list">
					<span class="h4 pitch-info-label">{{'pitches' | translate}}</span>
					<div ng-if="pitches.length == 0">
						<span>{{'no_pitches' | translate}}</span>
					</div>
					<div ng-if="pitches.length > 0">
						<ul>
							<div ng-repeat="pitch in pitches">
								<div class="custom-row flex-space-around club-pitches-list">
									<div>{{pitch.name}}</div>
									<div>{{pitch.sport | translate}}</div>
									<a ng-click="goToPitch(pitch.pitchid)"> <button type="button" class="btn btn-primary view-club">{{'view_pitch' | translate}}</button></a>
									<!--<form method="POST" class="no-margin" action="<c:url value="/admin/pitch/${pitch.pitchid}/delete"/>" >
											<button type="submit" class="btn btn-primary btn-danger"><spring:message code="delete_pitch"/></button>
										</form>-->
								</div>
							</div>
						</ul>
						<div ng-hide="pageNum == 1">
							<a ng-click="getFirstPage()">
								<button type="button" class="btn btn-secondary">
									{{'first' | translate}}
								</button>
							</a>
							<a ng-click="getPrevPage()">
								<button type="button" class="btn btn-secondary">
									{{'back' | translate}}
								</button>
							</a>
						</div>
						<div ng-hide="pageNum == lastPageNum">
							<a ng-click="getNextPage()">
								<button type="button" class="btn btn-secondary">{{'next' | translate}}</button>
							</a>
							<a ng-click="getLastPage()">
								<button type="button" class="btn btn-secondary">{{'last' | translate}}</button>
							</a>
						</div>
					</div>
				</div>
				<div ng-if="isAdmin" class="status no-margin">
					<div class="pitch-form-container">
						<h3>{{'create_pitch' | translate}}</h3>
						<form ng-submit = createPitchSubmit() name="createPitchForm" method="post" novalidate>
							<div class="form-field">
								<input class="form-control" type="text" placeholder="{{'event_name' | translate}}" ng-maxlength="100" name="name" ng-model="createdPitch.name" required/>
							</div>
							<div class="form-field">
								<label>{{'sport' | translate}}</label>
								<select class="form-control" ng-model="createdPitch.sport" ng-options="sport | translate for sport in sports"></select>
							</div>
							<!--<div class="choose-file">
								<form:input type="file" accept="image/*" path="pitchPicture" style="display: none" id="pitchPictureButton"/>
								<button type="button" class="btn btn-secondary"  onclick="document.getElementById('pitchPictureButton').click()"><spring:message code="choose_file"/></button>
								<span style="padding-left: 20px; font-size: 16px" id="filenameDisplay"><spring:message code="no_file"/></span>
							</div>-->
							<div class="justify-center">
								<button type="submit" class="btn btn-primary submit-btn btn-success">{{'create' | translate}}</button>
							</div>
						</form>
					</div>
				</div>
			</div>
			<div class="tbl profile-cont club-comments flex-1">
				<div ng-if="hasRelationship" class="w-100">
					<form ng-submit = commentSubmit() name="commentForm" method="post" novalidate class="comments_form">
						<input class="form-control" type="text" placeholder="{{'comment' | translate}}" ng-maxlength="500" name="comment" ng-model="commentText.comment" required/>
						<div class="justify-center">
							<button type="submit" class="btn btn-primary submit-btn btn-primary">{{'comment_action' | translate}}</button>
						</div>
					</form>
				</div>
				<div ng-repeat="cmt in comments" class="comment-container">
					<div class="flex-row mv-10">
						<img class="comment-image" src="../images/profile_default.png" width="40" height="40"/>
						<a class="link-text ml-10" ng-click="goToProfile(cmt.commenter.userid)">{{cmt.commenter.firstname}} {{cmt.commenter.lastname}}</a>
					</div>
					<span class="comment-text ml-10">{{cmt.comment}}</span>
					<div class="comment-date ml-10 mt-10">{{cmt.createdAt | date:'dd/MM/yyyy HH:mm' : 'UTC'}}</div>
				</div>
				<div class="table-navigator">
					<div ng-if="comments.length > 0">
						<div ng-hide="commentsPageNum == 1">
							<a ng-click="getCommentsFirstPage()">
								<button type="button" class="btn btn-secondary">
									{{'first' | translate}}
								</button>
							</a>
							<a ng-click="getCommentsPrevPage()">
								<button type="button" class="btn btn-secondary">
									{{'back' | translate}}
								</button>
							</a>
						</div>
						<span class="flex">{{'showing_items' | translate}} {{commentsPageInitIndex}}-{{commentsPageInitIndex + comments.length - 1}} {{'of' | translate}} {{commentCount}}</span>
						<div ng-hide="commentsPageNum == commentsLastPageNum">
							<a ng-click="getCommentsNextPage()">
								<button type="button" class="btn btn-secondary">
									{{'next' | translate}}
								</button>
							</a>
							<a ng-click="getCommentsLastPage()">
								<button type="button" class="btn btn-secondary">
									{{'last' | translate}}
								</button>
							</a>
						</div>
					</div>
					<div ng-if="comments.length == 0" class="notice">
						{{'no_comments' | translate}}
					</div>
				</div>
			</div>
		</div>
		<div ng-if="isAdmin" class="club-buttons">
			<a ng-click="newTournament(club.clubid)">
				<button type="button" class="btn btn-primary join-button">
					{{'create_tournament' | translate}}
				</button>
			</a>
			<a ng-click="deleteClub(club.clubid)">
				<button type="button" class="btn btn-danger join-button">
					{{'delete_club' | translate}}
				</button>
			</a>
		</div>
	</div>
</div>
